<Window x:Class="FMUI.Wpf.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:FMUI.Wpf.ViewModels"
        xmlns:views="clr-namespace:FMUI.Wpf.Views"
        mc:Ignorable="d"
        Title="Football Manager UI"
        Height="900"
        Width="1600"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource SurfaceDarkBrush}">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Border Grid.Row="0"
                Background="{StaticResource HeaderGradientBrush}">
            <Grid Margin="32,28,32,16">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <Grid Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="16" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <Border Width="68" Height="68" Background="{StaticResource SurfaceLightBrush}" CornerRadius="18">
                        <Ellipse Fill="{StaticResource AccentPrimaryBrush}" />
                    </Border>

                    <StackPanel Grid.Column="2" Orientation="Vertical" VerticalAlignment="Center">
                        <TextBlock Text="AFC Richmond"
                                   Foreground="{StaticResource PrimaryTextBrush}"
                                   FontSize="28"
                                   FontWeight="Bold" />
                        <TextBlock Text="Premier League â€“ 1st"
                                   Margin="0,4,0,0"
                                   Foreground="{StaticResource NeutralTextBrush}"
                                   FontSize="15" />
                    </StackPanel>

                    <StackPanel Grid.Column="3" Orientation="Horizontal" VerticalAlignment="Center" Spacing="20">
                        <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                            <TextBlock Text="Next Match"
                                       Foreground="{StaticResource NeutralTextBrush}"
                                       FontSize="12"
                                       FontWeight="SemiBold"
                                       TextAlignment="Right" />
                            <TextBlock Text="Sat 18:00 vs Man City"
                                       Foreground="{StaticResource PrimaryTextBrush}"
                                       FontSize="16"
                                       FontWeight="SemiBold" />
                        </StackPanel>
                        <Button Content="Continue"
                                Width="140"
                                Style="{StaticResource ContinueButtonStyle}" />
                    </StackPanel>
                </Grid>

                <ItemsControl Grid.Row="1"
                              Margin="0,28,0,10"
                              ItemsSource="{Binding Tabs}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal" Spacing="8" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate DataType="{x:Type vm:NavigationTabViewModel}">
                            <Button Command="{Binding DataContext.SelectTabCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                    CommandParameter="{Binding}"
                                    Padding="18,12"
                                    Cursor="Hand"
                                    BorderThickness="1"
                                    BorderBrush="Transparent"
                                    Background="Transparent"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center">
                                <Button.Style>
                                    <Style TargetType="Button">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="Button">
                                                    <Border x:Name="Root"
                                                            CornerRadius="12"
                                                            Padding="18,12"
                                                            Background="{TemplateBinding Background}"
                                                            BorderBrush="{TemplateBinding BorderBrush}"
                                                            BorderThickness="{TemplateBinding BorderThickness}">
                                                        <ContentPresenter HorizontalAlignment="Center"
                                                                          VerticalAlignment="Center" />
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Root" Property="Background" Value="#332EC4B6" />
                                                        </Trigger>
                                                        <Trigger Property="IsPressed" Value="True">
                                                            <Setter TargetName="Root" Property="Background" Value="#552EC4B6" />
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                        <Setter Property="Background" Value="Transparent" />
                                        <Setter Property="Foreground" Value="{StaticResource NeutralTextBrush}" />
                                        <Setter Property="BorderThickness" Value="1" />
                                        <Setter Property="BorderBrush" Value="Transparent" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsSelected}" Value="True">
                                                <Setter Property="Background" Value="#552EC4B6" />
                                                <Setter Property="BorderBrush" Value="{StaticResource AccentPrimaryBrush}" />
                                                <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                                <TextBlock Text="{Binding Title}"
                                           Style="{StaticResource NavigationTabTextStyle}">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock" BasedOn="{StaticResource NavigationTabTextStyle}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsSelected}" Value="True">
                                                    <Setter Property="Foreground" Value="{StaticResource PrimaryTextBrush}" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                            </Button>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

                <ItemsControl Grid.Row="2"
                              ItemsSource="{Binding SelectedTab.SubItems}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal" Spacing="6" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate DataType="{x:Type vm:NavigationSubItemViewModel}">
                            <Button Content="{Binding Title}"
                                    Command="{Binding DataContext.SelectedTab.SelectSubItemCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                    CommandParameter="{Binding}"
                                    Style="{StaticResource SubNavigationButtonStyle}">
                                <Button.Style>
                                    <Style TargetType="Button" BasedOn="{StaticResource SubNavigationButtonStyle}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsActive}" Value="True">
                                                <Setter Property="Foreground" Value="White" />
                                                <Setter Property="Background" Value="#552EC4B6" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </Grid>
        </Border>

        <Border Grid.Row="1"
                Background="{StaticResource ContentGradientBrush}">
            <Grid Margin="32">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <TextBlock Text="{Binding SelectedTab.ActiveSubItem.Title, FallbackValue=Select a Section}"
                           Foreground="{StaticResource PrimaryTextBrush}"
                           FontSize="24"
                           FontWeight="Bold" />

                <views:CardSurfaceView Grid.Row="1"
                                       Margin="0,24,0,0"
                                       DataContext="{Binding CardSurface}" />
            </Grid>
        </Border>
    </Grid>
</Window>
